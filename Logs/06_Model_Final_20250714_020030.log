2025-07-14 02:00:30,552 - FinalModelTraining - INFO - Starting final XGBoost model training process
2025-07-14 02:00:30,552 - FinalModelTraining - INFO - Training final model for: Sale_CL
2025-07-14 02:00:30,553 - FinalModelTraining - INFO - Using predictive variables: ['Tenure', 'Age', 'VolumeCred_CA', 'VolumeDeb_CA', 'ActBal_CA']
2025-07-14 02:00:30,553 - FinalModelTraining - INFO - Using categorical variables: []
2025-07-14 02:00:30,553 - FinalModelTraining - INFO - Loading data from silver.train
2025-07-14 02:00:30,553 - FinalModelTraining - INFO - Database path: C:\Users\jason\assignment\assignment.duckdb
2025-07-14 02:00:30,659 - FinalModelTraining - INFO - Successfully loaded 969 rows and 36 columns
2025-07-14 02:00:30,659 - FinalModelTraining - INFO - Data shape: (969, 36)
2025-07-14 02:00:30,672 - FinalModelTraining - INFO - Loading best parameters from models.xgboost_cl_sales_top
2025-07-14 02:00:30,726 - FinalModelTraining - INFO - Best AUC score: 0.6750
2025-07-14 02:00:30,726 - FinalModelTraining - INFO - Best parameters: {'max_depth': 7, 'min_child_weight': 4, 'gamma': 0.0, 'reg_lambda': 6, 'colsample_bytree': 0.8, 'reg_alpha': 10, 'learning_rate': 0.3, 'n_estimators': 700, 'scale_pos_weight': 2.3413793103448275}
2025-07-14 02:00:30,726 - FinalModelTraining - INFO - Starting final XGBoost binary classifier training
2025-07-14 02:00:30,726 - FinalModelTraining - INFO - Response variable: Sale_CL
2025-07-14 02:00:30,726 - FinalModelTraining - INFO - Predictive variables: ['Tenure', 'Age', 'VolumeCred_CA', 'VolumeDeb_CA', 'ActBal_CA']
2025-07-14 02:00:30,726 - FinalModelTraining - INFO - Categorical variables: []
2025-07-14 02:00:30,726 - FinalModelTraining - INFO - Model name: final_xgboost_cl_model
2025-07-14 02:00:30,726 - FinalModelTraining - INFO - Preparing data...
2025-07-14 02:00:30,738 - FinalModelTraining - INFO - Data after cleaning: (969, 6)
2025-07-14 02:00:30,738 - FinalModelTraining - INFO - Target distribution: {0: 679, 1: 290}
2025-07-14 02:00:30,738 - FinalModelTraining - INFO - Numerical variables: ['Tenure', 'Age', 'VolumeCred_CA', 'VolumeDeb_CA', 'ActBal_CA']
2025-07-14 02:00:30,738 - FinalModelTraining - INFO - Categorical variables: []
2025-07-14 02:00:30,738 - FinalModelTraining - INFO - XGBoost parameters: {'objective': 'binary:logistic', 'eval_metric': 'aucpr', 'random_state': 42, 'n_jobs': -1, 'verbosity': 1, 'max_depth': 7, 'min_child_weight': 4, 'gamma': 0.0, 'reg_lambda': 6, 'colsample_bytree': 0.8, 'reg_alpha': 10, 'learning_rate': 0.3, 'n_estimators': 700, 'scale_pos_weight': 2.3413793103448275}
2025-07-14 02:00:30,738 - FinalModelTraining - INFO - Training final model...
2025-07-14 02:00:30,860 - FinalModelTraining - INFO - Model training completed in 0.12 seconds
2025-07-14 02:00:30,878 - FinalModelTraining - INFO - Final model evaluation metrics:
2025-07-14 02:00:30,878 - FinalModelTraining - INFO -   AUC Score: 0.8610
2025-07-14 02:00:30,878 - FinalModelTraining - INFO -   Accuracy: 0.7699
2025-07-14 02:00:30,880 - FinalModelTraining - INFO -   Precision: 0.5918
2025-07-14 02:00:30,880 - FinalModelTraining - INFO -   Recall: 0.7448
2025-07-14 02:00:30,880 - FinalModelTraining - INFO -   F1 Score: 0.6595
2025-07-14 02:00:30,880 - FinalModelTraining - INFO -   Confusion Matrix: TN=530, FP=149, FN=74, TP=216
2025-07-14 02:00:30,900 - FinalModelTraining - INFO - Model saved to: C:\Users\jason\assignment\Models\final_xgboost_cl_model_Sale_CL_20250714_020030.joblib
2025-07-14 02:00:30,900 - FinalModelTraining - INFO - Model metrics saved to: C:\Users\jason\assignment\Models\final_xgboost_cl_model_Sale_CL_20250714_020030_metrics.json
2025-07-14 02:00:30,918 - FinalModelTraining - INFO - Model pickle backup saved to: C:\Users\jason\assignment\Models\final_xgboost_cl_model_Sale_CL_20250714_020030.pkl
2025-07-14 02:00:30,918 - FinalModelTraining - INFO - Saving final model metrics to models.final_xgboost_cl_model
2025-07-14 02:00:30,943 - FinalModelTraining - INFO - Created/verified schema: models
2025-07-14 02:00:30,965 - FinalModelTraining - INFO - Successfully saved final model metrics to models.final_xgboost_cl_model
2025-07-14 02:00:30,968 - FinalModelTraining - INFO - Total records in table: 1
2025-07-14 02:00:31,020 - FinalModelTraining - INFO - âœ… Final model training completed successfully
